# 版本历史

## v1.1.7 (当前版本)
发布日期：2024年

### 🎨 新增功能
- **事项类别颜色重新分配**：按照用户指定方案重新分配事项类别颜色
  - 个人事项: #DFDE6C (暖黄色)
  - 主业工作事项: #ACBFEB (淡蓝色)
  - 副业工作事项: #D1E9F4 (淡青色)
  - 社交事项: #FAD354 (明黄色)
  - 恋爱事项: #FA86A9 (粉红色)

### 🐛 问题修复
- **修复重复事项状态更新问题**：解决 `toggleEventComplete` 方法错误生成新事项的问题
- **优化状态更新逻辑**：状态更新操作现在独立于编辑/删除流程

### 🧪 测试与验证
- **新增测试页面**：创建 `test_category_colors.html` 和 `verify_category_colors.html` 用于验证颜色方案
- **生成详细报告**：新增 `CATEGORY_COLOR_UPDATE_REPORT.md` 记录颜色更新过程和验证结果
- **创建修复报告**：新增 `REPEAT_COMPLETE_FIX_REPORT.md` 记录重复事项修复详情

### 🎯 用户体验改进
- **提高颜色可识别性**：新的颜色方案更加协调且易于区分
- **增强视觉一致性**：所有界面元素统一应用新的颜色方案
- **优化事项状态管理**：重复事项状态切换更加稳定可靠

---

## v1.1.6
发布日期：2024年

### 🐛 问题修复
- **修复删除功能竞态条件问题**：解决 `handleDeleteConfirm` 方法中的 `TypeError: Cannot read properties of null (reading 'id')` 错误
- **添加防御性编程**：在删除操作前添加 `selectedEvent` 的 null 检查
- **使用本地变量缓存**：避免异步操作期间对象状态被修改
- **修复重复事项删除**：同样修复了 `handleRepeatDeleteConfirm` 方法中的竞态条件问题

### 🧪 测试与诊断
- **创建测试页面**：新增 `test_delete_fix.html` 用于验证删除功能修复效果
- **完善问题分析**：更新 `delete_issue_analysis.md` 包含详细的根因分析和修复方案
- **竞态条件防护**：确保即使用户快速操作或触发多个事件，删除功能也能稳定工作

### 🎯 用户体验改进
- **提高删除稳定性**：删除操作不再因为并发事件而失败
- **增强错误处理**：失败时提供清晰的反馈信息
- **保持界面响应**：确保用户界面在各种操作情况下保持稳定

---

## v1.1.5
发布日期：2024年

### ✨ 新增功能
- **月历小圆点优化**：改进了月历中小圆点的显示效果
- **项目清理**：优化项目结构和代码组织

---

## v1.1.4
发布日期：2024年

### ✨ 新增功能
- **周历组件优化**：改进今日日期的高亮显示效果
- **界面细节优化**：提升用户体验

---

## v1.1.3
发布日期：2024年

### ✨ 新增功能
- **内阴影效果优化**：改进视觉层次和界面美观度
- **提示语功能**：增强用户引导和反馈

---

## v1.1.2
发布日期：2024年

### 🐛 问题修复
- **日期显示问题**：修复了日期显示相关的bug
- **界面稳定性**：提升整体应用稳定性

---

## 版本命名规则
- 主版本号.次版本号.修订号 (Major.Minor.Patch)
- 主版本号：重大功能更新或架构变更
- 次版本号：新功能添加或较大改进
- 修订号：bug修复或小优化